From khoa kel chose

# Our API computes the risk. it posts the data about our client
url = "https://homecredit-oc-p7.herokuapp.com/predict"
headers = {'content-type': 'application/json', 'Accept-Charset': 'UTF-8'}
data_client = [data_scale.loc[id_client].values.tolist()]
j_data = json.dumps(data_client)
r = requests.post(url, data=j_data, headers=headers)
risk = float(r.text.split('"')[1])


# Sending the API the scaled data and getting a dict of the shap values
url = "https://homecredit-oc-p7.herokuapp.com/explain"
data_client = data_scale.loc[id_client].to_dict()
response_api = requests.post(url, json=data_client)